pip install matplotlib
python app.py

import time, json, os
from datetime import datetime
import matplotlib.pyplot as plt

data_file = "study_data.json"
start_time = None

def load_data():
    if os.path.exists(data_file):
        with open(data_file, 'r') as f:
            return json.load(f)
    return {}

def save_data(data):
    with open(data_file, 'w') as f:
        json.dump(data, f, indent=4)

def get_today():
    return datetime.now().strftime("%Y-%m-%d")

def start():
    global start_time
    start_time = time.time()
    print("â±ï¸ ê³µë¶€ ì‹œì‘!")

def stop(subject, data):
    global start_time
    if not start_time:
        print("â— ì‹œì‘ëœ ê³µë¶€ê°€ ì—†ìŠµë‹ˆë‹¤.")
        return
    elapsed = time.time() - start_time
    start_time = None
    date = get_today()
    data.setdefault(date, {})
    data[date][subject] = data[date].get(subject, 0) + elapsed
    save_data(data)
    print(f"âœ… {subject} ê³µë¶€ ì¢…ë£Œ ({int(elapsed // 60)}ë¶„)")

def add_manual(subject, minutes, data):
    date = get_today()
    data.setdefault(date, {})
    data[date][subject] = data[date].get(subject, 0) + int(minutes) * 60
    save_data(data)
    print(f"â• {subject}ì— {minutes}ë¶„ ì¶”ê°€ë¨.")

def show_summary(data):
    today = get_today()
    subjects = data.get(today, {})
    if not subjects:
        print("ğŸ“‹ ì˜¤ëŠ˜ í•™ìŠµ ë°ì´í„° ì—†ìŒ.")
        return
    for s, t in subjects.items():
        print(f"- {s}: {int(t // 60)}ë¶„")

def get_advice(data):
    today = get_today()
    subjects = data.get(today, {})
    if not subjects:
        print("ğŸ¤– ì˜¤ëŠ˜ í•™ìŠµ ê¸°ë¡ ì—†ìŒ.")
        return
    total = sum(subjects.values())
    most = max(subjects, key=subjects.get)
    least = min(subjects, key=subjects.get)
    print(f"ğŸ“Š ì´ ê³µë¶€ ì‹œê°„: {int(total // 60)}ë¶„")
    print(f"- ê°€ì¥ ë§ì´ ê³µë¶€í•œ ê³¼ëª©: {most}")
    print(f"- ê°€ì¥ ì ê²Œ ê³µë¶€í•œ ê³¼ëª©: {least}")
    print(f"ğŸ“š '{least}' ê³¼ëª©ì„ ë” ë³´ì¶©í•´ë³´ì„¸ìš”!")

def draw_graph(data):
    today = get_today()
    subjects = data.get(today, {})
    if not subjects:
        print("ğŸ“‰ ê·¸ë˜í”„ ë°ì´í„° ì—†ìŒ.")
        return
    subjects_list = list(subjects.keys())
    minutes = [int(t // 60) for t in subjects.values()]

    plt.figure(figsize=(6,4))
    bars = plt.bar(subjects_list, minutes, color='skyblue')
    for bar, m in zip(bars, minutes):
        plt.text(bar.get_x()+bar.get_width()/2, bar.get_height()+1, f"{m}ë¶„", ha='center')
    plt.title("ì˜¤ëŠ˜ì˜ ê³¼ëª©ë³„ í•™ìŠµ ì‹œê°„")
    plt.ylabel("ì‹œê°„ (ë¶„)")
    plt.tight_layout()
    plt.savefig("study_graph.png")
    plt.close()
    print("âœ… ê·¸ë˜í”„ ì €ì¥ ì™„ë£Œ (study_graph.png)")

def main():
    data = load_data()
    while True:
        print("\n===== ì‰¬ìš´ í•™ìŠµ íŠ¸ë˜ì»¤ =====")
        print("1. ê³µë¶€ ì‹œì‘")
        print("2. ê³µë¶€ ì¢…ë£Œ")
        print("3. ìˆ˜ë™ ì‹œê°„ ì¶”ê°€")
        print("4. ì˜¤ëŠ˜ ìš”ì•½ ë³´ê¸°")
        print("5. ì¡°ì–¸ ë°›ê¸°")
        print("6. ê·¸ë˜í”„ ì €ì¥")
        print("0. ì¢…ë£Œ")
        choice = input("ì„ íƒ: ").strip()

        if choice == "1":
            start()
        elif choice == "2":
            subject = input("ê³¼ëª© ì´ë¦„: ")
            stop(subject, data)
        elif choice == "3":
            subject = input("ê³¼ëª© ì´ë¦„: ")
            minutes = input("ì¶”ê°€ ì‹œê°„(ë¶„): ")
            if minutes.isdigit():
                add_manual(subject, minutes, data)
            else:
                print("â— ìˆ«ìë¥¼ ì •í™•íˆ ì…ë ¥í•˜ì„¸ìš”.")
        elif choice == "4":
            show_summary(data)
        elif choice == "5":
            get_advice(data)
        elif choice == "6":
            draw_graph(data)
        elif choice == "0":
            print("ğŸ‘‹ ì¢…ë£Œí•©ë‹ˆë‹¤.")
            break
        else:
            print("â— ì˜¬ë°”ë¥¸ ì„ íƒì…ë‹ˆë‹¤.")

if __name__ == "__main__":
    main()
